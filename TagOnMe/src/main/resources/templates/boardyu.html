<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>게시판</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="/bootstrap/assets/img/favicon.png" rel="icon">
  <link href="/bootstrap/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,700,700i&display=swap"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="/bootstrap/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/bootstrap/assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="/bootstrap/assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="/bootstrap/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="/bootstrap/assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="/bootstrap/assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="/bootstrap/assets/vendor/aos/aos.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="/bootstrap/assets/css/style.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"
    integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>

  <link rel="stylesheet" href="/board/css/style.css" />
  <link rel="stylesheet" href="/board/plugin/mCustomScrollbar/jquery.mCustomScrollbar.min.css" />

  <script src="/board/plugin/common/moment.js"></script>
  <script src="/board/plugin/bootstrap/js/bootstrap.min.js"></script>
  <script src="/board/scripts/jquery.min.js"></script>
  <script src="/board/scripts/main.js"></script>
  <script src="/board/scripts/common.js"></script>
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top header-transparent">
    <div class="container">

      <div class="logo float-left">
        <h1 class="text-light"><a href="/"><span>Tag on me!</span></a></h1>
      </div>

      <nav class="nav-menu float-right d-none d-lg-block">
			<ul>
				<li class="active"><a href="/">Home</a></li>
				<li><a href="/board/list.do">게시판</a></li>
				<li><a href="/member/memberinfo">로그인</a></li>
				<li><a href="/member/memberjoin">회원가입</a></li>
				<li><a href="/room" target="_black">채팅</a></li>
				<li class="drop-down"><a href="">내 정보</a>
					<ul>
						<li><a href="/member/openProfileList.do">내 프로필</a></li>
						<li><a href="/member/updateProfile.do">프로필 수정</a></li>
						<li><a href="#">태그 추가</a></li>
						<li><hr> <a href="#">로그 아웃</a></li>
				</ul></li>
			</ul>
		</nav>
    </div>
  </header><!-- End Header -->

  <main id="main">

    <!-- ======= Blog Section ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <div class="d-flex justify-content-between align-items-center">
          <h2>게시판</h2>

          <ol>
            <li><a href="/">Home</a></li>
            <li>Blog</li>
          </ol>
        </div>

      </div>
    </section><!-- End Blog Section -->

    <!-- ======= Blog Section ======= -->
    <section class="blog" data-aos="fade-up" data-aos-easing="ease-in-out" data-aos-duration="500">
      <div class="container">

        <div class="row">

          <div class="col-lg-8 entries">

            <div th:fragment="search" id="adv-search" class="input-group">
              <input type="text" id="mainSearchKeyword" class="form-control" th:value="${params.searchKeyword}"
                placeholder="키워드를 입력해 주세요." />
              <div class="input-group-btn">
                <div class="btn-group" role="group">
                  <div class="dropdown dropdown-lg">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                      aria-expanded="false"><span class="caret"></span></button>
                    <div class="dropdown-menu dropdown-menu-right" role="menu">
                      <!--/* 검색 form */-->
                      <form id="searchForm" th:action="@{/board/list.do}" method="get"
                        th:onsubmit="return searchBoard(this)" class="form-horizontal" role="form">
                        <!-- /* 현재 페이지 번호, 페이지당 출력할 데이터 개수, 페이지 하단에 출력할 페이지 개수 Hidden 파라미터 */ -->
                        <input type="hidden" name="currentPageNo" value="1" />
                        <input type="hidden" name="recordsPerPage" th:value="${params.recordsPerPage}" />
                        <input type="hidden" name="pageSize" th:value="${params.pageSize}" />

                        <div class="form-group">
                          <label for="filter">검색 유형</label>
                          <select name="searchType" class="form-control">
                            <option value="" th:selected="${#strings.isEmpty( params.searchType )}">전체</option>
                            <option value="title" th:selected="${#strings.equals( params.searchType, 'title' )}">제목
                            </option>
                            <option value="content" th:selected="${#strings.equals( params.searchType, 'content' )}">내용
                            </option>
                            <option value="writer" th:selected="${#strings.equals( params.searchType, 'writer' )}">작성자
                            </option>
                          </select>
                        </div>
                        <div class="form-group">
                          <label for="contain">키워드</label>
                          <input type="text" name="searchKeyword" class="form-control"
                            th:value="${params.searchKeyword}" />
                        </div>
                        <button type="submit" class="btn btn-primary"><span class="glyphicon glyphicon-search"
                            aria-hidden="true"></span></button>
                      </form>
                    </div>
                  </div>
                  <button type="button" class="btn btn-primary" onclick="searchBoard(null)"><span
                      class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
                </div>
              </div>
            </div>
            <h3></h3>

            <article class="entry" th:if="${not #lists.isEmpty( boardList )}" th:each="row,i : ${boardList}">

              <h2 class="entry-title">
                <a th:href="|@{/board/view.do}${params.makeQueryString(params.currentPageNo)}&bno=${row.bno}|" th:text="${row.title}"></a>
              </h2>
              <span class="tags" th:each="tagT : ${tagTitle}" th:if="${tagT.bno.equals(row.bno)}">
                <ul>
                  <li><a href="#" th:each="j : ${tagT.tagNames}" th:text="${j.tags}"></a></li>
                </ul>
              </span>

              <span class="tags" th:each="tagT : ${tagTitle}" th:unless="${tagT.bno.equals(row.bno)}"></span>

              <div class="entry-meta">
                <ul>
                  <li class="d-flex align-items-center">
                  	<i class="icofont-user"></i> 
                  	<li class="drop-down"><a href="" th:text=${row.writer}></a>
	                  	<ul>
							<li><a th:data1="*{writer}" th:name="${row.writer}" th:href="|@{/member/openProfileList.do/{writer}(writer=${row.writer})}|">프로필</a></li>
							<li th:if="${member} != 'null'"><a th:href="|@{/room}|">채팅</a></li>
							<li th:unless="${member} != 'null'"></li>
						</ul>
					</li>
                  </li>
                  <li class="d-flex align-items-center"><i class="icofont-wall-clock"></i> <a href=""
                      th:text="${#temporals.format(row.regDate, 'yyyy-MM-dd' )}"></a></li>
                  <li class="d-flex align-items-center"><i class="icofont-comment"></i> <a href=""
                      th:text="${row.replyCnt}"></a></li>
                </ul>
              </div>

              <div class="entry-content"></div>

            </article><!-- End blog entry -->

            <div class="btn_wrap text-right" th:if="${member}!='null'">
              <a th:href="@{/board/write.do}" class="btn btn-primary waves-effect waves-light">Write</a>
            </div>
            <div th:unless="${member}!='null'"></div>

            <div class="blog-pagination">
              <ul class="justify-content-center">
                <nav th:replace="fragments/common :: pagination"></nav>
              </ul>
            </div>


          </div><!-- End blog entries list -->

          <div class="col-lg-4">
            <div class="sidebar">

              <h3 class="sidebar-title">인기 태그</h3>
              <span class="sidebar-item tags" th:each="hitTag : ${hitTagList}">
                <ul th:each="hitTagName : ${hitTag.tagNames}">
                  <li><a href="#" th:text="${hitTagName.tags}"></a></li>
                </ul>

              </span><!-- End sidebar tags-->

              <h3 class="sidebar-title">인기 게시글</h3>
              <div class="sidebar-item recent-posts" th:each="hit : ${hitList}">
                <div class="post-item clearfix">
                  <h4><a th:href="|@{/board/view.do}${params.makeQueryString(params.currentPageNo)}&=${hit.bno}|"
                      th:text="${hit.title}"></a></h4>
                  <time th:text="${#temporals.format(hit.regDate, 'yyyy-MM-dd' )}"></time>
                </div>

              </div><!-- End sidebar recent posts-->

            </div><!-- End sidebar -->

          </div><!-- End blog sidebar -->

        </div><!-- End .row -->

      </div><!-- End .container -->

    </section><!-- End Blog Section -->

  </main><!-- End #main -->
  <script th:inline="javascript">
    /*<![CDATA[*/

    function movePage(uri, queryString) {
      location.href = uri + queryString;
    }
    /*[- end of function -]*/

    function searchBoard(form) {
      /*[- 드롭다운이 아닌 메인 검색 키워드로 검색했을 때 -]*/
      if (isEmpty(form) == true) {
        var searchKeyword = document.getElementById("mainSearchKeyword");
        if (isEmpty(searchKeyword.value) == true) {
          alert("키워드를 입력해 주세요.");
          searchKeyword.focus();
          return false;
        }

        form = document.getElementById("searchForm");
        form.searchKeyword.value = searchKeyword.value;
        form.submit();
      }

      if (isEmpty(form.searchKeyword.value) == true) {
        alert("키워드를 입력해 주세요.");
        form.searchKeyword.focus();
        return false;
      }
    }
			/*[- end of function -]*/

    /*]]>*/
  </script>

  <!-- ======= Footer ======= -->
  <footer id="footer" data-aos="fade-up" data-aos-easing="ease-in-out" data-aos-duration="500">

    <div class="footer-newsletter">
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <h4>Our Newsletter</h4>
            <p>Tamen quem nulla quae legam multos aute sint culpa legam noster magna</p>
          </div>
          <div class="col-lg-6">
            <form action="" method="post">
              <input type="email" name="email"><input type="submit" value="Subscribe">
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>Useful Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Services</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Terms of service</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Privacy policy</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-links">
            <h4>사용된 기술</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="#">자바스크립트</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">제이쿼리</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Product Management</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Marketing</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="#">Graphic Design</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-6 footer-contact">
            <h4>Contact Us</h4>
            <p>
              A108 Adam Street <br>
              New York, NY 535022<br>
              United States <br><br>
              <strong>Phone:</strong> +1 5589 55488 55<br>
              <strong>Email:</strong> info@example.com<br>
            </p>

          </div>

          <div class="col-lg-3 col-md-6 footer-info">
            <h3>About Moderna</h3>
            <p>Cras fermentum odio eu feugiat lide par naso tierra. Justo eget nada terra videa magna derita valies
              darta donna mare fermentum iaculis eu non diam phasellus.</p>
            <div class="social-links mt-3">
              <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
              <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
              <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong>Moderna</strong>. All Rights Reserved
      </div>
      <div class="credits">
        <!-- All the links in the footer should remain intact. -->
        <!-- You can delete the links only if you purchased the pro version. -->
        <!-- Licensing information: https://bootstrapmade.com/license/ -->
        <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/free-bootstrap-template-corporate-moderna/ -->
        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="/bootstrap/assets/vendor/jquery/jquery.min.js"></script>
  <script src="/bootstrap/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="/bootstrap/assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="/bootstrap/assets/vendor/php-email-form/validate.js"></script>
  <script src="/bootstrap/assets/vendor/venobox/venobox.min.js"></script>
  <script src="/bootstrap/assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="/bootstrap/assets/vendor/counterup/counterup.min.js"></script>
  <script src="/bootstrap/assets/vendor/owl.carousel/owl.carousel.min.js"></script>
  <script src="/bootstrap/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="/bootstrap/assets/vendor/aos/aos.js"></script>

  <!-- Template Main JS File -->
  <script src="/bootstrap/assets/js/main.js"></script>

</body>

</html>